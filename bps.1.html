<!DOCTYPE html>
<meta charset="utf-8">
<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />

<body>
  <svg>
    
  </svg>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script>

var sales = [
  { product: 'Hoodie',  count: 7 },
  { product: 'Jacket',  count: 6 },
  { product: 'Snuggie', count: 9 },
];
var svg = d3.select('svg');
svg.size();
// 1 -- one <svg> element exists

var rects = svg.selectAll('rect')
  .data(sales);

rects.size();
var newRects = rects.enter();
var maxCount = d3.max(sales, function(d, i) {
  return d.count;
});
var x = d3.scale.linear()
  .range([0, 300])
  .domain([0, maxCount]);
var y = d3.scale.ordinal()
  .rangeRoundBands([0, 75])
  .domain(sales.map(function(d, i) {
    return d.product;
  }));

newRects.append('rect')
  .attr('x', x(0))
  .attr('y', function(d, i) {
    return y(d.product);
  })
  .attr('height', y.rangeBand())
  .attr('width', function(d, i) {
    return x(d.count);
  });
  
  function toggle() {
  sales = (sales == days[0]) ? days[1] : days[0];
  update();
}

function update() {
  var rects = svg.selectAll('rect')
    .data(sales, function(d, i) {
      return d.product
    });

  // When we enter, we just want to create the rect,
  rects.enter()
    .append('rect');

  // We configure the rects here so the values
  // apply to it applies to both new and existing
  // rects
  rects
    .attr('x', x(0))
    .attr('y', function(d, i) {
      return y(d.product);
    })
    .attr('height', y.rangeBand())
    .attr('width', function(d, i) {
      return x(d.count);
    });
};
    
//   var x = d3.time.scale()
//     .domain([
//       new Date(Date.parse('2014-01-01')),
//       new Date(Date.parse('2014-04-01'))
//     ])
//     .range([0, 300]);

// x(new Date(Date.parse('2014-02-01')));
//   var xAxis = d3.svg.axis()
//   .scale(x)         // x is the d3.time.scale()
//   .orient('bottom') // the ticks go below the graph
//   .ticks(4);        // specify the number of ticks

// var svg = d3.select('body')
//   .append('svg')        // create an <svg> element
//     .attr('width', 300) // set its dimentions
//     .attr('height', 150);

// svg.append('g')            // create a <g> element
//   .attr('class', 'x axis') // specify classes
//   .call(xAxis);            // let the axis do its thing


</script>
</body>